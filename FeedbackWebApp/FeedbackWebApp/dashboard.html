<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        Admin Dashboard
    </title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <!-- CSS Files -->
    <link href="./bootstrap.min.css" rel="stylesheet" />
    <link href="./paper-dashboard.css?v=2.0.0" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="./demo.css" rel="stylesheet" />ct -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script type="text/javascript">



        function GetDashValues() {
            var webMethod = "AppServices.asmx/GetDashValues";

            $.ajax({
                type: "POST",
                url: webMethod,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    //alert("Success")
                    // Store the msg into a user variable
                    dashboard = msg.d

                    //alert("test");

                    //$("#user_title_fname").html(user.firstName);
                    //$("#user_title").html(user.firstName + " " + user.lastName);
                    //$("#user_fname").val(user.firstName);
                    //$("#user_lname").val(user.lastName);
                    //$("#user_username").val(user.firstName); 8
                    //$("#user_dept").val(user.department);


                    $("#totalEmployees").html(dashboard.totalEmployees);


                    //alert("success");
                    //alert(msg.data);

                },
                error: function (e) {
                    alert("Error with loading user values");
                }
            });

        }

        function GetDashValues2() {
            var webMethod = "AppServices.asmx/GetDashValues2";

            $.ajax({
                type: "POST",
                url: webMethod,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    //alert("Success")
                    // Store the msg into a user variable
                    dashboard = msg.d

                 


                    $("#totalResponses").html(dashboard.totalResponses);


                

                },
                error: function (e) {
                    alert("Error with loading response values");
                }
            });

        }

        function GetDashValues3() {
            var webMethod = "AppServices.asmx/GetDashValues3";

            $.ajax({
                type: "POST",
                url: webMethod,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    
                    dashboard = msg.d




                    $("#responseRate").html(dashboard.responseRate);




                },
                error: function (e) {
                    alert("Error with loading response rate values");
                }
            });

        }


    </script>-->



</head>

<body class="" onload="GetDashValues(), GetDashValues2(), GetDashValues3()">
<div class="wrapper ">
<div class="sidebar" data-color="white" data-active-color="danger">
<!--
Tip 1: You can change the color of the sidebar using: data-color="blue | green | orange | red | yellow"
-->
<div class="logo">
<a class="simple-text logo-mini">
<div class="logo-image-small">
<img src="./img/logo-small.png">
</div>
</a>
<a class="simple-text logo-normal">
Shirley
<!-- <div class="logo-image-big">
    <img src="../assets/img/logo-big.png">
</div> -->
</a>
</div>
<div class="sidebar-wrapper">
<ul class="nav">
    <li>
        <a href="./user.html">
            <i class="nc-icon nc-single-02"></i>
            <p>User Profile</p>
        </a>
    </li>
    <li class="active ">
        <a href="./dashboard.html">
            <i class="nc-icon nc-bank"></i>
            <p>Dashboard</p>
        </a>
    </li>
    <li>
        <a href="./tables.html">
            <i class="nc-icon nc-tile-56"></i>
            <p>Table List</p>
        </a>
    </li>
    <li>
        <a href="./Feedback.html">
            <i class="nc-icon nc-tile-56"></i>
            <p>Feedback Survey</p>
        </a>
    </li>
    <li>
        <a href="./Journal.html">
            <i class="nc-icon nc-tile-56"></i>
            <p>Anonymous Journal</p>
        </a>
    </li>
</ul>
</div>
</div>
<div class="main-panel">
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
    <div class="container-fluid">
        <div class="navbar-wrapper">
            <div class="navbar-toggle">
                <button type="button" class="navbar-toggler">
                    <span class="navbar-toggler-bar bar1"></span>
                    <span class="navbar-toggler-bar bar2"></span>
                    <span class="navbar-toggler-bar bar3"></span>
                </button>
            </div>
            <a class="navbar-brand" href="#pablo">Feedback Responses Dashboard</a>
        </div>
    </div>
</nav>
<!-- End Navbar -->
<!-- <div class="panel-header panel-header-lg">

<canvas id="bigDashboardChart"></canvas>

</div> -->
<div class="content">
    <div class="row">
        <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
                <div class="card-body ">
                    <div class="row">
                        <div class="col-5 col-md-4">
                            <div class="icon-big text-center icon-warning">
                                <i class="nc-icon nc-globe text-warning"></i>
                            </div>
                        </div>
                    <div class="col-7 col-md-8">
                        <div class="numbers">
                            <p class="card-category">Total Responses</p>
                            <p class="card-title" id="totalResponses"></p>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
                <div class="card-body ">
                    <div class="row">
                        <div class="col-5 col-md-4">
                            <div class="icon-big text-center icon-warning">
                                <i class="nc-icon nc-money-coins text-success"></i>
                            </div>
                        </div>
                        <div class="col-7 col-md-8">
                            <div class="numbers">
                                <p class="card-category">Total Employees</p>
                                <p class="card-title" id="totalEmployees"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
                <div class="card-body ">
                    <div class="row">
                        <div class="col-5 col-md-4">
                            <div class="icon-big text-center icon-warning">
                                <i class="nc-icon nc-vector text-danger"></i>
                            </div>
                        </div>
                        <div class="col-7 col-md-8">
                            <div class="numbers">
                                <p class="card-category">Response Rate</p>
                                <p class="card-title" id="responseRate"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="card ">
                    <div class="card-header ">
                        <h5 class="card-title">Responses</h5>
                            <p class="card-category">Sentiment Analysis</p>
                    </div>
                    <div class="card-body ">
                        <canvas width="1100" height="2"></canvas>
                        <head>
                            <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
                            <script type="text/javascript">
                              google.charts.load('current', {'packages':['bar']});
                                google.charts.setOnLoadCallback(drawStuff);        



                                function drawStuff() {


                                //function GetSentValues() {


                                //    var webMethod = "AppServices.asmx/GetDashValues3";

                                //    $.ajax({
                                //        type: "POST",
                                //        url: webMethod,
                                //        contentType: "application/json; charset=utf-8",
                                //        dataType: "json",
                                //        success: function (msg) {


                                //            dashboard = msg.d;

                                //            debugger;
                                //            var question1 = dashboard.responseRate; //this will change to dashboard.sentiment
                                //            var question2;
                                //            var question1 = 5;
                                //        },
                                //        error: function (e) {
                                //            alert("Error with loading sent values");
                                //        }
                                //    });

                                    

                                //}

                                    //debugger;

                               // var question1 = document.getElementById("totalResponses").value;
                                   

                                var data = new google.visualization.arrayToDataTable([
                                  ["Questions", 'Sentiment', { role: 'style' } ],
                                  ["Question 1", 1, 'color: gray'],
                                  ["Question 2", 1, 'color: #76A7FA'],
                                  ["Question 3", -0.5, 'color: #703593'],
                                ]);
                        
                                var options = {
                                  width: 1100,
                                  height: 400,
                                  legend: { position: 'none' },
                                  axes: {
                                    x: {
                                      0: { side: 'top', label: 'Questions'} // Top x-axis.
                                    }
                                  },
                                  bar: { groupWidth: "50%" }
                                };
                        
                                var chart = new google.charts.Bar(document.getElementById('top_x_div'));
                                // Convert the Classic options to Material options.
                                        chart.draw(data, google.charts.Bar.convertOptions(options));

                                };

                            </script>
                          </head>
                          <body>
                            <div id="top_x_div" style="width: 800px; height: 600px;"></div>
                          </body>
                    </div>  
                </div>
            </div>  
        </div>
    </div>
</div>
<footer class="footer footer-black  footer-white ">
    <div class="container-fluid">
        <div class="row">
            <div class="credits ml-auto">
                <span class="copyright">©
                    <!--<script>
                        document.write(new Date().getFullYear())
                    </script>-->2019 , Made by ScrumOfTheEarth
                </span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

    </body>
</html>